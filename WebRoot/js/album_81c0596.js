define("js/v4/album.js",function(s){function n(){l(document).off("click",".js_album").on("click",".js_album",function(){var s=l(this).data("albummid"),n=l(this).data("stat")||"",a={albummid:s};return n&&(a.stat=n),i.util.gotoAlbum(a),!1}).off("click","a.js_album>.js_play").on("click","a.js_album>.js_play",function(n){var a=l(this).data("stat")||"";a&&r.pgvClickStat(a),n.preventDefault(),n.stopPropagation();var t=l(this).parents("a.js_album").data("albummid");i.player.checkPlayerWindow(),s.async("js/common/html/albumdata.js",function(s){s.init({mid:t,reportID:i.reportMap.album,play:1},function(){})})}).off("click",".js_singer").on("click",".js_singer",function(){var s=l(this).data("stat")||"",n={singermid:l(this).data("mid")};return s&&(n.stat=s),i.util.gotoSinger(n),!1}).on("click",".js_digital_album",function(){return e.buyAlbum({title:"购买数字专辑",albumid:_opts.albumid,actid:0,frompage:"zwsharezuduan"}),!1}),l(".about__more").popupmore(),l(".js_fav_album").on("click",function(){var s=l(this).data("status");s=parseInt(s),s=1==s?2:1,t(s);var n=l(this).data("stat")||"";return n&&r.pgvClickStat(n),!1}),s.async("js/common/menu.js",function(){l(".js_more").menu({content:["fav","share","down","batch"],type:2})})}function a(n){var a=function(s){{var n,a="";Array.prototype.join}a+='\r\n    <ul class="songlist__header">\r\n	<li class="songlist__edit songlist__edit--check">\r\n	    <input type="checkbox" class="songlist__checkbox js_check_all">\r\n	</li>\r\n	<li class="songlist__header_name">歌曲</li>\r\n	<li class="songlist__header_author">歌手</li>\r\n	<li class="songlist__header_time">时长</li>\r\n    </ul>\r\n';var t={},l=s.list;for(m=0;m<l.length;m++)t[l[m].songmid]=l[m];a+="\r\n";for(var e=_opts.cdArrKey,r=_opts.cdArr,o="",c=0,u="",m=0;m<r.length;m++){o="Disk"+(m+1),songNo=0,u="",a+="\r\n	","1"==_opts.albumdesc.Falbum_tag3&&r.length>1&&(a+='  <h2 class="songlist__disc">'+(null==(n=e[m])?"":n)+"</h2> "),a+="\r\n	","1"!=_opts.albumdesc.Falbum_tag3&&r.length>1&&e[m].split("_").length>0&&(a+='  <h2 class="songlist__disc">'+(null==(n=e[m].split("_")[0])?"":n)+"</h2> "),a+="\r\n\r\n	";for(var d=0;d<("1"==_opts.albumdesc.Falbum_tag3?r[m].length:1);d++){a+='\r\n		<ul class="songlist__list" >\r\n		',"1"==_opts.albumdesc.Falbum_tag3&&r[m][d].music_author&&r[m][d].music_author!=u&&""!=r[m][d].chapter&&(u=r[m][d].music_author,a+=' \r\n		<li>\r\n		    <div class="songlist__item songlist__item--musician">'+(null==(n=r[m][d].music_author)?"":n)+"</div>\r\n		</li>\r\n		"),a+="\r\n		","1"==_opts.albumdesc.Falbum_tag3&&""!=r[m][d].chapter&&(a+=' \r\n		<li>\r\n		    <div class="songlist__item songlist__item--musician">'+(null==(n=r[m][d].chapter)?"":n)+"</div>\r\n		</li>\r\n		"),a+="\r\n		","1"!=_opts.albumdesc.Falbum_tag3&&e[m].split("_").length>1&&(a+=' \r\n		<li>\r\n		    <div class="songlist__item songlist__item--musician">'+(null==(n=e[m].split("_")[1])?"":n)+"</div>\r\n		</li>\r\n		"),a+="\r\n	\r\n\r\n		";var p=[];p="1"==_opts.albumdesc.Falbum_tag3?r[m][d].songs:r[m],p.forEach(function(s){s=t[s.songmid],a+='\r\n\r\n	<li mid="'+(null==(n=s.songid)?"":n)+'" ix="'+(null==(n=s.ix)?"":n)+'">\r\n	    <div class="',"1"==_opts.albumdesc.Falbum_tag3&&""!=r[m][d].chapter&&(a+="songlist__item--classical "),a+="songlist__item",s.disabled&&(a+=" songlist__item--disable "),a+="",s.ix%2&&(a+=" songlist__item--even "),a+='" onmouseover="this.className=(this.className+\' songlist__item--hover\')" onmouseout="this.className=this.className.replace(/ songlist__item--hover/, \'\')">\r\n		<div class="songlist__edit songlist__edit--check">\r\n		    <input type="checkbox" class="songlist__checkbox">\r\n		</div>\r\n		<div class="songlist__number">'+(null==(n=++songNo)?"":n)+'</div>\r\n		<div class="songlist__songname">\r\n		    <span class="songlist__songname_txt"><a href="'+(null==(n=i.util.getSongUrl(s))?"":n)+'" class="js_song" title="'+(null==(n=s.songname)?"":_.escape(n))+'">'+(null==(n=s.songname)?"":_.escape(n))+'</a></span>\r\n		    <div class="mod_list_menu">\r\n			<a href="javascript:;" class="list_menu__item list_menu__play js_play" title="播放">\r\n			    <i class="list_menu__icon_play"></i>\r\n			    <span class="icon_txt">播放</span>\r\n			</a>\r\n			<a href="javascript:;" class="list_menu__item list_menu__add js_fav" title="添加到歌单" aria-haspopup="true" data-target="menu_add">\r\n			    <i class="list_menu__icon_add"></i>\r\n			    <span class="icon_txt">添加到歌单</span>\r\n			</a>\r\n			<a href="javascript:;" class="list_menu__item list_menu__down js_down" title="下载" aria-haspopup="true" data-target="menu_down">\r\n			    <i class="list_menu__icon_down"></i>\r\n			    <span class="icon_txt">下载</span>\r\n			</a>\r\n			<a href="javascript:;" class="list_menu__item list_menu__share js_share" title="分享" aria-haspopup="true" data-aria="menu_share">\r\n			    <i class="list_menu__icon_share"></i>\r\n			    <span class="icon_txt">分享</span>\r\n			</a>\r\n		    </div>\r\n		</div>\r\n		<div class="songlist__artist">\r\n			';for(var l=0,e=s.singer.length;e>l;l++){var o=s.singer[l];a+="\r\n			",l>0&&(a+="/"),a+='\r\n			<a href="'+(null==(n=i.util.getSingerUrl(o))?"":n)+'" data-singermid="'+(null==(n=o.mid)?"":n)+'" data-singerid="'+(null==(n=o.id)?"":n)+'" title="'+(null==(n=o.name)?"":_.escape(n))+'" class="singer_name">'+(null==(n=o.name)?"":_.escape(n))+"</a>\r\n			"}a+='\r\n		</div>\r\n		<div class="songlist__time">'+(null==(n=s.playTime)?"":n)+'</div>\r\n		<div class="songlist__other">\r\n			',1==s.action.soso&&(a+='\r\n			<i class="icon_sosomusic">无版权</i>\r\n			'),a+="\r\n		</div>\r\n	    </div>\r\n	</li>\r\n			",c++}),a+="\r\n                    </ul>\r\n			"}}return a+=""};s.async("js/common/html/songlist.js",function(s){s.init({container:l("div.mod_songlist"),specilData:n,specialTpl:a,reportType:i.reportMap.album,callback:function(){o=document.body.scrollHeight}})})}function t(s){var n=e.getUin();if(10001>n)return i.widget.user.openLogin(),void 0;var a="//c.y.qq.com/folder/fcgi-bin/fcg_qm_order_diss.fcg",t={uin:n,ordertype:1,albumid:_opts.albumid,albummid:_opts.albummid,from:1,optype:s},r=new i.FormSender(a,"post",t,"utf-8");r.onSuccess=function(n){if(0==n.ret){var a=l(".js_fav_album");if(a.data("status",s),1==s){var t=l(".js_fav_album").html();l(".js_fav_album").html(t.replace("收藏","已收藏")),l("i",l(".js_fav_album")).addClass("mod_btn__icon_like--like"),i.popup.show("专辑收藏成功！已添加到我喜欢的专辑",2e3)}else if(2==s){var t=l(".js_fav_album").html();l(".js_fav_album").html(t.replace("已收藏","收藏")),l("i",l(".js_fav_album")).removeClass("mod_btn__icon_like--like"),i.popup.show("取消收藏成功！",2e3)}}else-100001==n.ret?i.popup.show("专辑收藏失败！不能收藏自己的专辑",2e3,1):-100003==n.ret?i.widget.user.openLogin():1==n.ret?i.popup.show("专辑收藏失败！您收藏的专辑已达到上限",2e3,1):i.popup.show("专辑收藏失败！当前网络繁忙，请您稍后重试。",2e3,1)},r.onError=function(){i.popup.show("专辑收藏失败！当前网络繁忙，请您稍后重试。",2e3,1)},r.send()}{var i=s("js/common/music.js"),l=i.$;i.jQueryAjax}window.MUSIC=i;var e=i.widget.user,r=(i.popup,i.statistics);_opts=null;var o=document.body.scrollHeight,c={init:function(t){_opts=t,s.async("js/common/html/albumdata.js",function(s){s.init({mid:t.albummid,reportID:i.reportMap.album,play:0},function(s){a(s)})}),n(),setTimeout(function(){r.doPvg(location.protocol+"//y.qq.com/portal/album/detail.html")},1e3)}};return c});/*  |xGv00|94a14ea411c6600586a8bd29f2c10635 */